%h1
	This is the show page
- flash.each do |key, value|
	= content_tag(:div, value, class: "alert alert-#{key}")
%h2
	Post Title - 
	=@post.title

.comments
	= nested_li(@all_comments) do |comment|
		= comment.body
		%div{onclick: '$(this).next().show()'}
			Reply
		#child{style: "display:none;"}
			=form_tag add_child_comment_path, method: :post do
				=label_tag 'comment'
				=text_area_tag 'comment'
				=hidden_field_tag 'parent_id', comment.id
				=hidden_field_tag 'post_id', @post.id 
				=submit_tag 'Submit'
			%a{onclick: "$(this).parent().hide();"}
				Cancel

      
%p
	=@post.description
-if user_signed_in?
	=form_tag add_comment_path, method: :post do
		=label_tag 'Comment'
		=text_field_tag 'comment'
		=hidden_field_tag 'post_id', @post.id
		=submit_tag 'Submit'
%table
	-@root_comments.each do |r|
		%div
			=r.body
			%div{onclick: '$(this).next().show()'}
				Reply
			
			#child{style: "display:none;"}
				=form_tag add_child_comment_path, method: :post do
					=label_tag 'comment'
					=text_area_tag 'comment'
					=hidden_field_tag 'post_id', @post.id 
					=submit_tag 'Submit'
				%a{onclick: "$(this).parent().hide();"}
					Cancel
				
